WITH X AS (
SELECT 
	N,
	INP.value,
	CASE WHEN TALLY6.N = 1 THEN 1 ELSE NULL END AS DUMMY
FROM TALLY6
CROSS APPLY (
	SELECT 
		1 AS ' ', value
	FROM STRING_SPLIT('1000
	2000
	3000

	4000

	5000
	6000

	7000
	8000
	9000

	10000', CHAR(10))
	ORDER BY 1
	OFFSET TALLY6.N - 1 ROWS
	FETCH NEXT 1 ROWS ONLY
	) AS INP

--ORDER BY TALLY6.N
)
SELECT 
	*,
	CASE 
		WHEN LAG(value) OVER (ORDER BY X.N) = '' THEN LAG(DUMMY, 2) OVER (ORDER BY X.N) + 1
		ELSE LAG(DUMMY, 1, 1) OVER (ORDER BY X.N)
	END AS ELF
	FROM X
ORDER BY X.N